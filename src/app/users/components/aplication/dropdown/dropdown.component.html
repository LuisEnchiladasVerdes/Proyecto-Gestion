<div class="relative">
  <!-- Cambiamos el routerLink por un div clickeable -->
  <div class="text-white relative cursor-pointer" (click)="toggleDropdown($event)">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6" viewBox="0 0 24 24">
      <circle cx="9" cy="21" r="1"></circle>
      <circle cx="20" cy="21" r="1"></circle>
      <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
    </svg>
    <span class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full text-xs w-5 h-5 flex items-center justify-center">
          1
        </span>
  </div>

  <!-- Dropdown del carrito -->
  <div *ngIf="isOpen"
       class="absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50"
       @dropdownAnimation >
    <div class="p-4">
      <h3 class="text-lg font-semibold mb-3">Mi Carrito</h3>

      <!-- Producto -->
      <div class="flex items-center gap-3 border-b pb-3">
        <img [src]="productExample.image"
             [alt]="productExample.name"
             class="w-16 h-16 object-cover rounded">
        <div class="flex-1">
          <h4 class="text-sm font-medium">{{productExample.name}}</h4>
          <div class="flex items-center justify-between mt-1">
            <span class="text-sm text-gray-600">x{{productExample.quantity}}</span>
            <span class="text-sm font-semibold">${{productExample.price}}</span>
          </div>
        </div>
        <button (click)="removeItem()"
                class="text-red-500 hover:text-red-700 p-1">
          <svg xmlns="http://www.w3.org/2000/svg"
               fill="none"
               viewBox="0 0 24 24"
               stroke-width="1.5"
               stroke="currentColor"
               class="w-5 h-5">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- BotÃ³n para ir al carrito -->
      <div class="mt-3">
        <a routerLink="/carrito/revisar"
           class="block w-full bg-blue-600 text-white text-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200">
          Ver Carrito
        </a>
      </div>
    </div>
  </div>
</div>
